\section{Introduction}

To incentivize the reduction of building energy consumption, the U.S. government 
launched the Better Buildings Challenge to make buildings at least 20 percent 
more efficient by 2020~\cite{doe2013better}. To achieve this goal, many organizations 
are applying data analytics to the thousands of sense and control points in 
buildings to detect wasteful, incorrect, and unhealthy operation.  
Although there have been many promising analytical approaches~\cite{}, it is essential to apply
the same analytics to multiple buildings as well as combine multiple analytics engines to
gain deeper insights for identifying the issues in buildings.
However, widespread deployment at scale is still a major challenge.
Analytical processes are \emph{tightly coupled} to the sensors and their naming conventions in each building. 
Sensor metadata about the type, location, and relationships between the sensing 
and control units is mostly inconsistent across buildings.
% Such heterogeneity amongst buildings is pervasive and that diversity is reflected in the sensor stock and naming conventions used within and across different buildings.
Analytical processes require the correspondence between different naming 
conventions, so that points can be mapped to the inputs of these processes.
For instance, if company A wants to execute their 
control loops on a building contracted by company B, A needs to manually 
map the points between A and B's system. This process can take weeks and is proportional 
to the number of points that need to be used by the application. 
Running the same software across buildings requires significant integration effort.
% This process is tedious, error-prone, and especially difficult to verify and maintain over time.  


%Non-BOSS/BAS based systems, manual
%translation between buildings is a major bottleneck, preventing widespread adoption of new algorithms and techniques.

%sensor metadata about the type, location, and relationships between the sensing 
%and control units is usually inconsistent across buildings.

%These 
%complicated analytical processes have proven to be useful and effective on 
%a single building, however, an important issue remains that how to make such a process 
%generalizable to multiple buildings in a scalable manner. [FIX] need some transition 
%before ``however" talking about why we want to port these processes from buildings 
%to buildings. On the one hand, analytics-based processes are \emph{tightly coupled} 
%to sensors of certain types or locations for each building; on the other hand, 
%sensor metadata about the type, location, and relationships between the sensing 
%and control units is usually inconsistent across buildings. Therefore, implanting 
%these analytical processes requires the correspondence between different naming 
%conventions be identified and points be mapped to the inputs of these processes 
%before any further analysis is viable. For instance, if A company wants to execute their 
%control loops on a building contracted by B company, A needs to first manually 
%figure out the mapping of the same type of points between B's system and 
%their own system. This process alone can literally take weeks and is proportional 
%to the number of points required in the service. Running the same software across 
%buildings requires significant integration effort.

%> Lots of innovation in the building application space (much promise to bridge the gap between cyber and physical for increased efficency and comfort)
%> Building applications are written against the protocol-guided, building-specific namespaces (LonTalk, Bacnet, OPC)
%> Recent work has proposed a software stack (BAS) that provides a fuzzy-query based interface as a level of 
%>   indirection between protocol namespace and application code, allowing applications to be decoupled from building ``hardware''
%> BAS is built on top of a driver-based architecture (BOSS) where each sensors (or sensor group) is *manually* registered
%> Registration is tedious, error-prone, slow and difficult to verify and maintain (over time)
%> In order to enable rapid application deployment, this manual process must be improved 

%In recent years, we have a seen a groundswell of research and commercial activity around to building
%analytics\cite{}.  Although there have been many promising analyitcal approaches to increase
%efficiencies, health, and comfort~\cite{}, widespread deployment is a major challenge.  ce.

%None of these address the scalability issue of metadata 
%normalization nor leverages the knowledge from already labeled buildings.

\subsection{Metadata Heterogeneity}
\begin{table}[h]
\centering
\begin{tabular}{c|ll}
\cline{1-2}
Building & Point Name & \\
\cline{1-2}
\multirow{2}{*}{\texttt{A}}  & \texttt{Zone Temp 2 RMI204} &  \\
					& \texttt{spaceTemperature 1st Floor Area1} &  \\ \cline{1-2}
\multirow{2}{*}{\texttt{B}} & \texttt{SDH\_SF1\_R282\_RMT} &  \\
                     & \texttt{SDH\_S1-01\_ROOM\_TEMP} &  \\ \cline{1-2}
\multirow{2}{*}{\texttt{C}}  & \texttt{SODA1R300\_\_ART} &  \\
					  & \texttt{SODA1R410B\_ART} &  \\ \cline{1-2}
\end{tabular}
\caption{Example point names for temperature sensors from three different buildings.}
\label{table:ex}
\end{table}


A sense or control ``point'' is a sensor,
a controller, or a software value, e.g., a temperature sensor
installed in an office room. The metadata about the point indicates the physical
location, the type of sensor or controller, how the sensor or controller relates
to the mechanical systems, and other important contextual information. A portion of
the metadata is often encoded in the
``point name'' as short
text string with several concatenated abbreviations. Table~\ref{table:ex} lists 
a few point names of sensors in three different building management systems 
(Trane\footnote{\url{http://www.trane.com/}}, Siemens\footnote{\url{http://www.siemens.com/}} 
and Barrington Controls\footnote{The company is no longer in business.}). 
The point name \texttt{SODA1R300\_\_ART} is constructed as a
concatenation of the building name (\texttt{SOD}), the air handler unit
identifier (\texttt{A1}), the room number (\texttt{R300}) and the sensor type
(\texttt{ART}, area room temperature). As the name conveys, this point measures 
the temperature in a particular room; and it also indicates the control unit that 
can affect the temperature in this room. Different naming conventions -- 
generally guided by the equipment, vendor, manufacturer, 
and contractor --
are used in across buildings. As shown in the table, the notion of {\em room temperature} is encoded 
with a different abbreviation in each of the three buildings: \texttt{Temp}, \texttt{RMT} and \texttt{ART}.
Such variations across different buildings impose great difficulty on quickly deploying any software-based
solution.

Several researchers have started addressing this challenge using a variety of techniques.
Bhattarcharya et al~\cite{arka} use a programming language based solution, 
where they derive a set of regular expressions from a handful of labeled examples 
to normalize the sensor point names. 
%This approach assumes a consistent format for all point names, which is not the case in practice, as shown in Table~\ref{table:ex}. 
Schumann et al~\cite{ibm} develop a probabilistic framework to classify sensor types 
based on the similarity between a building's point names and entries in a manually constructed dictionary. 
%However, the performance of this method is limited by the coverage and diversity of entries listed in the dictionary, and the dictionary size becomes intractable when there exist a lot of variations of the same type, or conflicting definitions of a dictionary entry in different buildings.
Hong et al~\cite{cikm} formulate an active learning based approach to iteratively 
acquire human labels for building sensors and propagate pseudo labels among points.
All prior work is focused on normalization in the context of a single building.  Our work looks to 
transfer the knowledge from one building to another, leveraging the information about the metadata that
we learn in each building to improve the model, increase coverage, and maximize performance.


%scaling up the same analytical process.


\subsection{Learning from Well-Labeled Buildings}
Manual normalization of the metadata in buildings is intractable due to 
the scale of the problem. However, newer buildings tend to have very well-labled, consistent
naming for their points.
%What we often have is one or a few fully 
%labeled/normalized buildings. 
Because the sensor types in different buildings 
overlap considerably (e.g., all buildings have temperature sensors installed),
we can leverage the knowledge about the labels in one building to 
help normalize the labels in another.
To bridge the gap between naming conventions for different buildings, we envision 
a system that infers the metadata about sense and control points to construct a normalized 
common standard.
%based on the knowledge extracted from existing normalized buildings. 
This would allow the fast deployment of analytics/control applications and enable
%to quickly connect 
%to and analyze the data 
%from a commercial building. Such a system would not only dramatically save time 
%but also allow 
building managers to more easily experiment with many different kinds 
of analytic engines and smarter management techniques. 
%Nevertheless, there is limited work on this topic. 
%Bhattarcharya et al~\cite{arka} exploit a programming language based solution, 
%where they derive a set of regular expressions from a handful of labeled examples 
%to normalize the point name of sensors. 
%%This approach assumes a consistent format for all point names, which is not the case in practice, as shown in Table~\ref{table:ex}. 
%Schumann et al~\cite{ibm} develop a probabilistic framework to classify sensor types 
%based on the similarity of a raw point name to the entries in a manually constructed dictionary. 
%%However, the performance of this method is limited by the coverage and diversity of entries listed in the dictionary, and the dictionary size becomes intractable when there exist a lot of variations of the same type, or conflicting definitions of a dictionary entry in different buildings.
%Hong et al~\cite{cikm} formulate an active learning based approach to iteratively 
%acquire human labels for the building and propogate pseudo labels among points.
%However, none of these prior work addresses the scalability issue of metadata 
%normalization nor leverages the knowledge from already labeled buildings.

In this work, we take another step towards automatic normalization of building 
sensor metadata that requires minimal human intervention. We focus on a key category 
of metadata: sensor `type' inference. In contrast to the aforementioned work, 
where the normalization process is restricted to a single building, 
we use techniques in transfer learning and present a customized version for transferring 
``knowledge'' about the type-labels in one building to quickly learn the type-labels in another.
%an existing building to help infer the sensor type for a new building, which 
%effectively minimizes the manual labeling effort throughout the normalization process. 
Our approach is explicitly designed to \emph{minimize manual labeling} throughout the normalization process.
%Based on our observation, the transferral of ``knowledge'' is feasible because 
Fundamentally, transferring type-related ``knowledge'' is achievable because
features in the actual timeseries data of streams are common 
across buildings, even when point names are drastically different. For instance, room temperature 
readings in all buildings are largely in the range of 60-70 Fahrenheit degree while 
the point names of temperature points can vary substantially, as shown in
Table~\ref{table:ex}.

We performed extensive experiments on a large 
collection of real sensor stream data, which includes over 20 different sensor types 
and 3,000 sensors in three different commercial buildings. To our knowledge, this is the first 
transfer learning-based approach used in this domain.  Our main 
contributions in this paper are:

\begin{itemize}\itemsep1pt \parskip1pt \parsep0pt
\item We empirically analyze how data and the point names of the streams can be transferred for classification across buildings.
\item We propose a novel, effective, yet general transfer-learning approach by exploiting domain knowledge learnt from an existing building to help infer information in another building.
\item We evaluate our proposed solution using real data and metadata from over 20 different sensor types and 3,000 sensors in three different commercial buildings.  Our solution can automatically label at least xx\% of the streams with more than yy\% accuracy without human intervention.
\end{itemize}
